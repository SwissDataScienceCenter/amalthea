name: auth-proxy
image: "traefik:2.1.4"
args:
  - "--configfile=/config/traefik.yaml"
ports:
  - name: http
    containerPort: 8000
    protocol: TCP
resources:
  requests:
    cpu: 20m
    memory: 16Mi
  limits:
    cpu: 100m
    memory: 32Mi
volumeMounts:
  - name: traefik-configmap
    mountPath: /config
livenessProbe:
  tcpSocket:
    port: 8000
  initialDelaySeconds: 10
  timeoutSeconds: 2
  periodSeconds: 10
  successThreshold: 1
  failureThreshold: 3
readinessProbe:
  tcpSocket:
    port: 8000
  initialDelaySeconds: 10
  timeoutSeconds: 2
  periodSeconds: 10
  successThreshold: 1
  failureThreshold: 1
